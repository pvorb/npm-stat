import {getDailyDownloadData} from "./get-daily-download-data";
import {getDateRange} from "./get-date-range";

import downloadData from './__mocks__/package-data';

test('combine daily data', function() {
    const dateRange = getDateRange(
        new Date('2020-01-01'),
        new Date('2020-04-03')
    );
    const data = getDailyDownloadData(downloadData, dateRange);

    expect(data).toEqual({
        'package-name': [
            [
                1577826000000,
                1,
            ],
            [
                1577912400000,
                13,
            ],
            [
                1577998800000,
                0,
            ],
            [
                1578085200000,
                0,
            ],
            [
                1578171600000,
                6,
            ],
            [
                1578258000000,
                26,
            ],
            [
                1578344400000,
                26,
            ],
            [
                1578430800000,
                17,
            ],
            [
                1578517200000,
                21,
            ],
            [
                1578603600000,
                12,
            ],
            [
                1578690000000,
                1,
            ],
            [
                1578776400000,
                5,
            ],
            [
                1578862800000,
                18,
            ],
            [
                1578949200000,
                32,
            ],
            [
                1579035600000,
                19,
            ],
            [
                1579122000000,
                13,
            ],
            [
                1579208400000,
                21,
            ],
            [
                1579294800000,
                4,
            ],
            [
                1579381200000,
                5,
            ],
            [
                1579467600000,
                19,
            ],
            [
                1579554000000,
                41,
            ],
            [
                1579640400000,
                17,
            ],
            [
                1579726800000,
                19,
            ],
            [
                1579813200000,
                33,
            ],
            [
                1579899600000,
                0,
            ],
            [
                1579986000000,
                0,
            ],
            [
                1580072400000,
                25,
            ],
            [
                1580158800000,
                16,
            ],
            [
                1580245200000,
                18,
            ],
            [
                1580331600000,
                17,
            ],
            [
                1580418000000,
                11,
            ],
            [
                1580504400000,
                1,
            ],
            [
                1580590800000,
                4,
            ],
            [
                1580677200000,
                21,
            ],
            [
                1580763600000,
                23,
            ],
            [
                1580850000000,
                12,
            ],
            [
                1580936400000,
                23,
            ],
            [
                1581022800000,
                18,
            ],
            [
                1581109200000,
                2,
            ],
            [
                1581195600000,
                5,
            ],
            [
                1581282000000,
                26,
            ],
            [
                1581368400000,
                31,
            ],
            [
                1581454800000,
                22,
            ],
            [
                1581541200000,
                34,
            ],
            [
                1581627600000,
                16,
            ],
            [
                1581714000000,
                3,
            ],
            [
                1581800400000,
                10,
            ],
            [
                1581886800000,
                14,
            ],
            [
                1581973200000,
                24,
            ],
            [
                1582059600000,
                10,
            ],
            [
                1582146000000,
                17,
            ],
            [
                1582232400000,
                24,
            ],
            [
                1582318800000,
                2,
            ],
            [
                1582405200000,
                5,
            ],
            [
                1582491600000,
                31,
            ],
            [
                1582578000000,
                27,
            ],
            [
                1582664400000,
                46,
            ],
            [
                1582750800000,
                35,
            ],
            [
                1582837200000,
                14,
            ],
            [
                1582923600000,
                4,
            ],
            [
                1583010000000,
                5,
            ],
            [
                1583096400000,
                26,
            ],
            [
                1583182800000,
                16,
            ],
            [
                1583269200000,
                23,
            ],
            [
                1583355600000,
                25,
            ],
            [
                1583442000000,
                18,
            ],
            [
                1583528400000,
                0,
            ],
            [
                1583614800000,
                5,
            ],
            [
                1583701200000,
                18,
            ],
            [
                1583787600000,
                15,
            ],
            [
                1583874000000,
                9,
            ],
            [
                1583960400000,
                24,
            ],
            [
                1584046800000,
                70,
            ],
            [
                1584133200000,
                2,
            ],
            [
                1584219600000,
                8,
            ],
            [
                1584306000000,
                21,
            ],
            [
                1584392400000,
                28,
            ],
            [
                1584478800000,
                29,
            ],
            [
                1584565200000,
                34,
            ],
            [
                1584651600000,
                63,
            ],
            [
                1584738000000,
                4,
            ],
            [
                1584824400000,
                44,
            ],
            [
                1584910800000,
                42,
            ],
            [
                1584997200000,
                28,
            ],
            [
                1585083600000,
                32,
            ],
            [
                1585170000000,
                18,
            ],
            [
                1585256400000,
                23,
            ],
            [
                1585342800000,
                7,
            ],
            [
                1585429200000,
                8,
            ],
            [
                1585515600000,
                37,
            ],
            [
                1585602000000,
                29,
            ],
            [
                1585688400000,
                27,
            ],
            [
                1585774800000,
                40,
            ],
            [
                1585861200000,
                21,
            ]
        ]
    });
});
